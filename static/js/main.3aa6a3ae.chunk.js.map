{"version":3,"sources":["assets/svg/barometer.svg","components/Loader/index.tsx","utils/captitalize.ts","components/WeatherWidgetItem/WeatherWidgetItemData/index.tsx","components/WeatherWidgetItem/WeatherWidgetItemError/index.tsx","services/ApiService.ts","services/openweather/getWeatherDataByCityName/index.ts","services/openweather/getWeatherDataByCoords/index.ts","hooks/useClickOutside.ts","config/storage.ts","hooks/useDefaultWidgets.ts","components/WeatherWidgetItem/index.tsx","hooks/useWeatherData.ts","components/WeatherWidgetSettings/WeatherWidgetSettingsForm/index.tsx","components/WeatherWidgetSettings/WeatherWidgetSettingsListItem/index.tsx","components/WeatherWidgetSettings/WeatherWidgetSettingsList/index.tsx","components/WeatherWidgetSettings/WeatherWidgetSettingsDropdown/index.tsx","components/WeatherWidgetSettings/index.tsx","components/WeatherWidget/index.tsx","utils/reorder.ts","components/App/index.tsx","index.tsx","assets/scss/app.scss"],"names":["_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","_g17","_g18","Loader","className","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgBarometer","_ref","svgRef","title","titleId","props","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","ref","d","ForwardRef","capitalize","string","charAt","toUpperCase","slice","WeatherWidgetItemData","memo","icon","city","data","country","weather","src","alt","Math","round","temperature","value","feels_like","clouds","name","wind","speed","unit","direction","code","pressure","humidity","visibility","toFixed","WeatherWidgetItemError","error","apiService","url","fetch","then","response","ok","Error","statusText","text","parser","parse","parseAttributeValue","ignoreAttributes","attributeNamePrefix","getWeatherDataByCityName","a","process","URLSearchParams","q","appid","units","mode","getWeatherDataByCoords","lat","lon","toString","useClickOutside","handler","useEffect","listener","event","el","current","contains","composedPath","document","addEventListener","removeEventListener","WIDGETS_STORAGE_NAME","widgetsFallback","useDefaultWidgets","useState","isMounted","setMountedState","widgetData","setWidgetData","successHandler","position","coords","latitude","longitude","handleError","widgets","localStorage","getItem","formattedWidgets","JSON","map","e","removeItem","getWidgetsFromStorage","navigator","geolocation","getCurrentPosition","WeatherWidgetItem","onUpdate","setData","setError","isLoading","setLoadingState","getWeatherData","useWeatherData","responseData","WeatherWidgetSettingsForm","onAdd","newCity","setNewCity","onSubmit","preventDefault","trim","some","toLowerCase","htmlFor","type","placeholder","autoComplete","onChange","onFocus","WeatherWidgetSettingsListItem","index","onReorder","onDelete","useDrag","item","collect","monitor","isDragging","canDrag","end","droppedId","didDrop","drag","preview","useDrop","accept","canDrop","hover","draggedId","drop","node","onClick","WeatherWidgetSettingsList","WeatherWidgetSettingsDropdown","isOpen","classes","join","DndProvider","backend","HTML5Backend","WeatherWidgetSettings","onWidgetAdd","onWidgetDelete","onWidgetsReorder","isDropdownOpen","setDropdownOpenState","dropdownRef","useRef","useCallback","state","WeatherWidget","setWidgets","syncWidgetsUpdateWithStorage","cities","widget","setItem","stringify","handleUpdateWidget","updatedWidgets","handleAddWidget","handleDeleteWidget","filter","handleWidgetsReorder","atIndex","findIndex","list","startIndex","endIndex","result","splice","removed","reorder","defaultWidgets","App","mountPoint","createElement","innerHTML","container","appendChild","attachShadow","ReactDOM","render","StrictMode","HTMLElement","customElements","define"],"mappings":"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","file":"static/js/main.3aa6a3ae.chunk.js","sourcesContent":["var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16, _g17, _g18;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBarometer(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Capa_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 512 512\",\n    style: {\n      enableBackground: \"new 0 0 512 512\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M257,0C117.105,0,0,113.025,0,255c0,141.19,116.449,257,257,257c142.13,0,255-117.257,255-257 C512,114.061,397.951,0,257,0z M257,482.2C131.832,482.2,29.8,380.168,29.8,255C29.8,130.935,131.832,29.8,257,29.8 c124.065,0,225.2,101.135,225.2,225.2C482.2,380.168,381.065,482.2,257,482.2z\"\n  })))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M257,60C149.21,60,60,147.491,60,255c0,52.603,20.817,103.589,57.114,139.886c5.853,5.854,15.356,5.857,21.213,0 l21.265-21.265c5.857-5.858,5.857-15.355,0-21.213c-5.857-5.857-15.355-5.857-21.213,0l-10.151,10.151 C106.889,336.72,93.676,304.164,90.663,270H105c8.284,0,15-6.716,15-15s-6.716-15-15-15H90.697 c3.129-34.135,16.816-65.304,37.812-90.277l9.87,9.87c5.857,5.857,15.355,5.858,21.213,0c5.858-5.858,5.858-15.355,0-21.213 l-9.791-9.791C175.229,107.505,207.083,93.76,242,90.674V105c0,8.284,6.716,15,15,15s15-6.716,15-15V90.689 c33.219,3.008,63.624,15.9,88.248,35.709l-129.301,91.907C217.831,227.629,210,241.346,210,255c0,1.025,0.038,2.043,0.113,3.053 C211.815,281.088,232.594,300,257,300c14.542,0,28.257-7.082,36.694-18.948l91.907-129.301 c19.809,24.624,32.702,55.03,35.71,88.249H407c-8.284,0-15,6.716-15,15s6.716,15,15,15h14.334 c-3.021,34.114-16.252,66.65-37.617,92.503l-10.096-10.096c-5.858-5.858-15.355-5.858-21.213,0 c-5.858,5.858-5.858,15.355,0,21.213l21.207,21.208c5.854,5.853,15.356,5.858,21.213,0C431.162,358.495,452,307.529,452,255 C452,147.497,364.61,60,257,60z M269.242,263.671C266.425,267.634,261.849,270,257,270c-8.738,0-17-7.29-17-15 c0-3.782,3.347-8.702,8.328-12.243l72.316-51.402L269.242,263.671z\"\n  })))), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M287,362h-62c-24.813,0-45,20.187-45,45s20.187,45,45,45h62c24.813,0,45-20.187,45-45S311.813,362,287,362z M287,422h-62 c-8.271,0-15-6.729-15-15s6.729-15,15-15h62c8.271,0,15,6.729,15,15S295.271,422,287,422z\"\n  })))), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)), _g17 || (_g17 = /*#__PURE__*/React.createElement(\"g\", null)), _g18 || (_g18 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBarometer);\nexport default __webpack_public_path__ + \"static/media/barometer.ccc00683.svg\";\nexport { ForwardRef as ReactComponent };","/**\n * Vendors\n */\nimport React from \"react\";\n\n/**\n * Typings\n */\ntype TProps = {};\n\n/**\n * Expo\n */\nconst Loader: React.FC<TProps> = () => (\n  <div className=\"loader\">\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default Loader;\n","export const capitalize = (string: string) => {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n};\n","/**\n * Vendors\n */\nimport React, { memo } from \"react\";\n\n/**\n * Icons\n */\nimport { WiStrongWind } from \"react-icons/all\";\nimport { ReactComponent as PressureIcon } from \"../../../assets/svg/barometer.svg\";\n\n/**\n * Helpers\n */\nimport { capitalize } from \"../../../utils\";\n\n/**\n * Typings\n */\nimport { WeatherInfo } from \"../../../types/weather\";\n\ntype TProps = {\n  city: string;\n  data: WeatherInfo | null;\n};\n\nconst renderIcon = (icon: string) => (\n  <img src={`https://openweathermap.org/img/wn/${icon}@2x.png`} alt=\"\" />\n);\n\n/**\n * Expo\n */\nconst WeatherWidgetItemData: React.FC<TProps> = memo(({ city, data }) => {\n  if (!data) {\n    return null;\n  }\n\n  return (\n    <div className=\"weather-widget-data\">\n      {/* TITLE */}\n      <div className=\"weather-widget-city\">\n        {city}, {data.city.country}\n      </div>\n\n      {/* ICON */}\n      <div className=\"weather-widget-icon\">\n        {renderIcon(data.weather.icon)}\n        <span className=\"weather-widget-temp\">\n          {Math.round(data.temperature.value)}°C\n        </span>\n      </div>\n\n      {/* DESCRIPTION */}\n      <div className=\"weather-widget-description\">\n        Feels like {Math.round(data.feels_like.value)}°C.{\" \"}\n        {capitalize(data.clouds.name)}. {data.wind.speed.name}\n      </div>\n\n      {/* WIND */}\n      <div className=\"weather-widget-list\">\n        <div className=\"weather-widget-list-item\">\n          <WiStrongWind />\n          {data.wind.speed.value}\n          {data.wind.speed.unit} {data.wind.direction.code}\n        </div>\n\n        {/* PRESSURE */}\n        <div className=\"weather-widget-list-item\">\n          <PressureIcon />\n          {data.pressure.value}\n          {data.pressure.unit}\n        </div>\n\n        {/* HUMIDITY */}\n        <div className=\"weather-widget-list-item\">\n          Humidity: {data.humidity.value}\n          {data.humidity.unit}\n        </div>\n\n        {/* VISIBILITY */}\n        <div className=\"weather-widget-list-item\">\n          Visibility: {(data.visibility.value / 1000).toFixed(1)}km\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default WeatherWidgetItemData;\n","/**\n * Vendors\n */\nimport React from \"react\";\n\n/**\n * Icons\n */\nimport { BiErrorCircle } from \"react-icons/all\";\n\n/**\n * Typings\n */\ntype TProps = {\n  error: string;\n};\n\n/**\n * Expo\n */\nconst WeatherWidgetItemError: React.FC<TProps> = ({ error }) => (\n  <div className=\"weather-widget-error\">\n    <div className=\"weather-widget-error-icon\">\n      <BiErrorCircle />\n    </div>\n    {error}\n  </div>\n);\n\nexport default WeatherWidgetItemError;\n","/**\n * Vendors\n */\nimport parser from \"fast-xml-parser\";\n\n/**\n * Simple API request implementation\n */\nexport function apiService<T>(url: string): Promise<T> {\n  return fetch(url).then((response) => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.text().then((text) =>\n      parser.parse(text, {\n        parseAttributeValue: true,\n        ignoreAttributes: false,\n        attributeNamePrefix: \"\",\n      })\n    );\n  });\n}\n","/**\n * Base API service\n */\nimport { apiService } from \"../../ApiService\";\n\n/**\n * Typings\n */\nimport { WeatherInfo } from \"../../../types/weather\";\n\ntype TRequest = {\n  /**\n   * Search city\n   */\n  city: string;\n};\n\n/**\n * Get weather data by city name\n */\nexport const getWeatherDataByCityName = async ({ city }: TRequest) => {\n  return apiService<{ current: WeatherInfo }>(\n    process.env.REACT_APP_OPENWEATHER_API_BASE_URL +\n      \"?\" +\n      new URLSearchParams({\n        q: city,\n        appid: process.env.REACT_APP_OPENWEATHER_API_KEY as string,\n        units: \"metric\",\n        mode: \"xml\",\n      })\n  );\n};\n","/**\n * Base API service\n */\nimport { apiService } from \"../../ApiService\";\n\n/**\n * Typings\n */\nimport { WeatherInfo } from \"../../../types/weather\";\n\ntype TRequest = {\n  /**\n   * latitude\n   */\n  lat: number;\n\n  /**\n   * lon\n   */\n  lon: number;\n};\n\n/**\n * Get weather data by city name\n */\nexport const getWeatherDataByCoords = async ({ lat, lon }: TRequest) => {\n  return apiService<{ current: WeatherInfo }>(\n    process.env.REACT_APP_OPENWEATHER_API_BASE_URL +\n      \"?\" +\n      new URLSearchParams({\n        lat: lat.toString(),\n        lon: lon.toString(),\n        appid: process.env.REACT_APP_OPENWEATHER_API_KEY as string,\n        units: \"metric\",\n        mode: \"xml\",\n      })\n  );\n};\n","/**\n * Vendors\n */\nimport { RefObject, useEffect } from \"react\";\n\n/**\n * Typings\n */\ntype AnyEvent = MouseEvent | TouchEvent;\n\n/**\n * Hook to handle click outside element\n */\nexport function useClickOutside<T extends HTMLElement = HTMLElement>(\n  ref: RefObject<T>,\n  handler: (event: AnyEvent) => void\n) {\n  useEffect(() => {\n    const listener = (event: AnyEvent) => {\n      const el = ref?.current;\n      if (!el || el.contains(event.composedPath()[0] as Node)) {\n        return;\n      }\n\n      handler(event);\n    };\n\n    document.addEventListener(`mousedown`, listener);\n    document.addEventListener(`touchstart`, listener);\n\n    return () => {\n      document.removeEventListener(`mousedown`, listener);\n      document.removeEventListener(`touchstart`, listener);\n    };\n  }, [ref, handler]);\n}\n\nexport default useClickOutside;\n","export const WIDGETS_STORAGE_NAME = \"WEATHER_WIDGETS\";\n","/**\n * Vendors\n */\nimport { useState, useEffect } from \"react\";\n\n/**\n * API\n */\nimport { getWeatherDataByCoords } from \"../services/openweather\";\nimport { WeatherInfo } from \"../types/weather\";\n\n/**\n * Config\n */\nimport { WIDGETS_STORAGE_NAME } from \"../config/storage\";\n\nconst widgetsFallback = [\n  {\n    city: \"Moscow\",\n    data: null,\n  },\n];\n\n/**\n * Hook to get user geolocation\n */\nexport const useDefaultWidgets = (): [\n  { city: string; data: WeatherInfo | null }[] | null,\n  boolean\n] => {\n  const [isMounted, setMountedState] = useState(false);\n\n  const [widgetData, setWidgetData] = useState<\n    | {\n        city: string;\n        data: WeatherInfo | null;\n      }[]\n    | null\n  >(null);\n\n  const getWidgetsFromStorage = () => {\n    const widgets = localStorage.getItem(WIDGETS_STORAGE_NAME);\n    if (widgets) {\n      try {\n        const parsed = JSON.parse(widgets);\n        const formattedWidgets = parsed.map((city: string) => ({\n          city,\n          data: null,\n        }));\n        setWidgetData(formattedWidgets);\n        setMountedState(true);\n        return true;\n      } catch (e) {\n        localStorage.removeItem(WIDGETS_STORAGE_NAME);\n        return false;\n      }\n    }\n    return false;\n  };\n\n  const successHandler = async (position: GeolocationPosition) => {\n    try {\n      const { current } = await getWeatherDataByCoords({\n        lat: position.coords.latitude,\n        lon: position.coords.longitude,\n      });\n\n      setWidgetData([{ city: current.city.name, data: current }]);\n      setMountedState(true);\n    } catch (e) {\n      handleError();\n    }\n  };\n\n  const handleError = () => {\n    setWidgetData(widgetsFallback);\n    setMountedState(true);\n  };\n\n  useEffect(() => {\n    if (getWidgetsFromStorage()) {\n      return;\n    }\n    if (!navigator.geolocation) {\n      handleError();\n    } else {\n      navigator.geolocation.getCurrentPosition(successHandler, handleError);\n    }\n  }, []);\n\n  return [widgetData, isMounted];\n};\n","/**\n * Vendors\n */\nimport React, { useEffect, memo } from \"react\";\n\n/**\n * Components\n */\nimport Loader from \"../Loader\";\nimport WeatherWidgetItemData from \"./WeatherWidgetItemData\";\nimport WeatherWidgetItemError from \"./WeatherWidgetItemError\";\n\n/**\n * Hooks\n */\nimport { useWeatherData } from \"../../hooks\";\n\n/**\n * Typings\n */\nimport { WeatherInfo } from \"../../types/weather\";\n\ntype TProps = {\n  city: string;\n  data: WeatherInfo | null;\n  onUpdate: (city: string, data: WeatherInfo) => void;\n};\n\n/**\n * Expo\n */\nconst WeatherWidgetItem: React.FC<TProps> = memo(({ city, data, onUpdate }) => {\n  const [responseData, isLoading, error] = useWeatherData(city);\n\n  useEffect(() => {\n    if (responseData) {\n      onUpdate(city, responseData);\n    }\n  }, [responseData]);\n\n  return (\n    <div className=\"weather-widget-item\">\n      {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <WeatherWidgetItemError error={error} />\n      ) : (\n        <WeatherWidgetItemData data={data} city={city} />\n      )}\n    </div>\n  );\n});\n\nexport default WeatherWidgetItem;\n","/**\n * Vendors\n */\nimport { useEffect, useState } from \"react\";\n\n/**\n * API\n */\nimport { getWeatherDataByCityName } from \"../services/openweather\";\n\n/**\n * Typings\n */\nimport { WeatherInfo } from \"../types/weather\";\n\n/**\n * Hook to get weather data by city name\n */\nexport const useWeatherData = (\n  city: string\n): [WeatherInfo | null, boolean, string | null] => {\n  /**\n   * State for holding weather data\n   */\n  const [data, setData] = useState<WeatherInfo | null>(null);\n\n  /**\n   * State for holding error\n   */\n  const [error, setError] = useState<string | null>(null);\n\n  /**\n   * State for holding loading flag\n   */\n  const [isLoading, setLoadingState] = useState<boolean>(false);\n\n  /**\n   * Get data on mount\n   */\n  useEffect(() => {\n    /**\n     * Request API function\n     */\n    const getWeatherData = async () => {\n      setLoadingState(true);\n      try {\n        const { current } = await getWeatherDataByCityName({ city });\n        setData(current);\n      } catch (e) {\n        setError(e ? e.toString() : \"Server error\");\n      }\n    };\n\n    getWeatherData();\n  }, [city]);\n\n  /**\n   * Remove loading indicator when get data or error\n   */\n  useEffect(() => {\n    if (data || error) {\n      setLoadingState(false);\n    }\n  }, [data, error]);\n\n  return [data, isLoading, error];\n};\n","/**\n * Vendors\n */\nimport React, { useState } from \"react\";\n\n/**\n * Icons\n */\nimport { AiOutlineEnter } from \"react-icons/all\";\n\n/**\n * Helpers\n */\nimport { capitalize } from \"../../../utils\";\n\n/**\n * Typings\n */\nimport { WeatherWidgetShape } from \"../../../types/weather\";\n\ntype TProps = {\n  onAdd: (city: string) => void;\n  widgets: WeatherWidgetShape[];\n};\n\n/**\n * Expo\n */\nconst WeatherWidgetSettingsForm: React.FC<TProps> = ({ onAdd, widgets }) => {\n  const [newCity, setNewCity] = useState(\"\");\n\n  const [error, setError] = useState<string | null>(null);\n\n  const validateForm = () => {\n    if (newCity.trim().length < 2) {\n      return \"Enter 2 or more characters\";\n    }\n\n    if (\n      widgets.some(({ city }) => city.toLowerCase() === newCity.toLowerCase())\n    ) {\n      return `Widget with city ${capitalize(newCity)} aleady exist`;\n    }\n\n    return null;\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const error = validateForm();\n\n    if (error) {\n      setError(error);\n      return;\n    }\n\n    onAdd(newCity);\n    setNewCity(\"\");\n  };\n\n  const handleFocus = () => {\n    if (error) {\n      setError(null);\n    }\n  };\n\n  const handleCityChange = ({\n    target,\n  }: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = target;\n    setNewCity(value);\n  };\n\n  return (\n    <form className=\"add-widget-form\" onSubmit={handleSubmit}>\n      <label className=\"form-label\" htmlFor=\"add-city\">\n        Add Location:\n      </label>\n      <div className=\"form-row\">\n        <input\n          id=\"add-city\"\n          type=\"text\"\n          className=\"form-control\"\n          placeholder=\"Enter a city\"\n          autoComplete=\"off\"\n          value={newCity}\n          onChange={handleCityChange}\n          onFocus={handleFocus}\n        />\n        <button className=\"btn add-widget-submit\" type=\"submit\">\n          <AiOutlineEnter />\n        </button>\n      </div>\n      {error && <div className=\"form-error\">{error}</div>}\n    </form>\n  );\n};\n\nexport default WeatherWidgetSettingsForm;\n","/**\n * Vendors\n */\nimport React from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\n\n/**\n * Icons\n */\nimport { RiDeleteBinLine, GiHamburgerMenu } from \"react-icons/all\";\n\n/**\n * Typings\n */\ntype TProps = {\n  city: string;\n  index: number;\n  onReorder: (id: string, atIndex: number) => void;\n  onDelete: (city: string) => void;\n};\n\n/**\n * Expo\n */\nconst WeatherWidgetSettingsListItem: React.FC<TProps> = ({\n  city,\n  index,\n  onReorder,\n  onDelete,\n}) => {\n  const [{ isDragging }, drag, preview] = useDrag(\n    () => ({\n      type: \"weather-widget-item\",\n      item: { id: city, index },\n      collect: (monitor) => {\n        return {\n          isDragging: monitor.isDragging(),\n          canDrag: true,\n        };\n      },\n      end: (item, monitor) => {\n        const { id: droppedId, index } = item;\n        const didDrop = monitor.didDrop();\n        if (!didDrop) {\n          onReorder(droppedId, index);\n        }\n      },\n    }),\n    [city, index, onReorder]\n  );\n\n  const [, drop] = useDrop(\n    () => ({\n      accept: \"weather-widget-item\",\n      canDrop: () => false,\n      hover({ id: draggedId }: any) {\n        if (draggedId !== city) {\n          onReorder(draggedId, index);\n        }\n      },\n    }),\n    [onReorder]\n  );\n\n  const handleDelete = () => {\n    onDelete(city);\n  };\n\n  return (\n    <div key={city} ref={preview} className=\"widgets-settings-item\">\n      <div className=\"widget-drag-trigger\" ref={(node) => drag(drop(node))}>\n        <GiHamburgerMenu />\n      </div>\n      <span className=\"widget-settings-item-title\">{city}</span>\n      <button\n        type=\"button\"\n        className=\"widget-delete-btn btn\"\n        onClick={handleDelete}\n      >\n        <RiDeleteBinLine />\n      </button>\n    </div>\n  );\n};\n\nexport default WeatherWidgetSettingsListItem;\n","/**\n * Vendors\n */\nimport React from \"react\";\nimport {\n  useDrag,\n  useDrop,\n  DropTargetMonitor,\n  XYCoord,\n  DndProvider,\n  useDragDropManager,\n} from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\n/**\n * Components\n */\nimport WeatherWidgetSettingsListItem from \"../WeatherWidgetSettingsListItem\";\nimport { WeatherWidgetShape } from \"../../../types/weather\";\n\n/**\n * Typings\n */\ntype TDragItem = {\n  index: number;\n  id: string;\n  type: string;\n};\n\ntype TProps = {\n  widgets: WeatherWidgetShape[];\n  onReorder: (id: string, atIndex: number) => void;\n  onDelete: (city: string) => void;\n};\n\n/**\n * Expo\n */\nconst WeatherWidgetSettingsList: React.FC<TProps> = ({\n  widgets,\n  onReorder,\n  onDelete,\n}) => {\n  const [, drop] = useDrop(() => ({ accept: \"weather-widget-item\" }));\n\n  return (\n    <div className=\"widgets-settings-list\" ref={drop}>\n      {widgets.map(({ city }, index) => (\n        <WeatherWidgetSettingsListItem\n          key={city}\n          city={city}\n          index={index}\n          onReorder={onReorder}\n          onDelete={onDelete}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default WeatherWidgetSettingsList;\n","/**\n * Vendors\n */\nimport React from \"react\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\n/**\n * Components\n */\nimport WeatherWidgetSettingsForm from \"../WeatherWidgetSettingsForm\";\nimport WeatherWidgetSettingsList from \"../WeatherWidgetSettingsList\";\n\n/**\n * Typings\n */\nimport { WeatherWidgetShape } from \"../../../types/weather\";\n\ntype TProps = {\n  isOpen: boolean;\n  widgets: WeatherWidgetShape[];\n  onAdd: (city: string) => void;\n  onDelete: (city: string) => void;\n  onReorder: (id: string, atIndex: number) => void;\n};\n\n/**\n * Expo\n */\nconst WeatherWidgetSettingsDropdown: React.FC<TProps> = ({\n  isOpen,\n  widgets,\n  onAdd,\n  onDelete,\n  onReorder,\n}) => {\n  const classes = [\n    \"widget-settings-dropdown\",\n    isOpen ? \"is-open\" : \"is-close\",\n  ].join(\" \");\n\n  return (\n    <div className={classes}>\n      <DndProvider backend={HTML5Backend}>\n        <WeatherWidgetSettingsList\n          widgets={widgets}\n          onReorder={onReorder}\n          onDelete={onDelete}\n        />\n      </DndProvider>\n\n      <WeatherWidgetSettingsForm onAdd={onAdd} widgets={widgets} />\n    </div>\n  );\n};\n\nexport default WeatherWidgetSettingsDropdown;\n","/**\n * Vendors\n */\nimport React, { useState, useRef, memo, useCallback } from \"react\";\n\n/**\n * Hooks\n */\nimport { useClickOutside } from \"../../hooks\";\n\n/**\n * Components\n */\nimport WeatherWidgetSettingsDropdown from \"./WeatherWidgetSettingsDropdown\";\n\n/**\n * Icon\n */\nimport { BsGear } from \"react-icons/all\";\n\n/**\n * Typings\n */\nimport { WeatherWidgetShape } from \"../../types/weather\";\n\ntype TProps = {\n  widgets: WeatherWidgetShape[];\n  onWidgetAdd: (city: string) => void;\n  onWidgetDelete: (city: string) => void;\n  onWidgetsReorder: (id: string, atIndex: number) => void;\n};\n\nconst WeatherWidgetSettings: React.FC<TProps> = memo(\n  ({ widgets, onWidgetAdd, onWidgetDelete, onWidgetsReorder }) => {\n    const [isDropdownOpen, setDropdownOpenState] = useState(false);\n\n    const dropdownRef = useRef<HTMLDivElement>(null);\n\n    const toggleDropdown = () => {\n      setDropdownOpenState((state) => !state);\n    };\n\n    const handleOutsideClick = useCallback(() => {\n      setDropdownOpenState(false);\n    }, []);\n\n    useClickOutside(dropdownRef, handleOutsideClick);\n\n    return (\n      <div className=\"weather-widget-settings\" ref={dropdownRef}>\n        <button\n          className=\"weather-widget-settings-btn btn\"\n          onClick={toggleDropdown}\n        >\n          <BsGear />\n        </button>\n\n        <WeatherWidgetSettingsDropdown\n          isOpen={isDropdownOpen}\n          widgets={widgets}\n          onAdd={onWidgetAdd}\n          onDelete={onWidgetDelete}\n          onReorder={onWidgetsReorder}\n        />\n      </div>\n    );\n  }\n);\n\nexport default WeatherWidgetSettings;\n","/**\n * Vendors\n */\nimport React, { useState, useCallback, useEffect } from \"react\";\n\n/**\n * Components\n */\nimport WeatherWidgetItem from \"../WeatherWidgetItem\";\nimport WeatherWidgetSettings from \"../WeatherWidgetSettings\";\nimport Loader from \"../Loader\";\n\n/**\n * Hooks\n */\nimport { useDefaultWidgets } from \"../../hooks\";\n\n/**\n * Helpers\n */\nimport { reorder } from \"../../utils\";\n\n/**\n * Config\n */\nimport { WIDGETS_STORAGE_NAME } from \"../../config/storage\";\n\n/**\n * Typings\n */\nimport { WeatherInfo, WeatherWidgetShape } from \"../../types/weather\";\n\ntype TProps = {};\n\n/**\n * Expo\n */\nconst WeatherWidget: React.FC<TProps> = () => {\n  const [widgets, setWidgets] = useState<WeatherWidgetShape[]>([]);\n\n  const syncWidgetsUpdateWithStorage = (widgets: WeatherWidgetShape[]) => {\n    const cities = widgets.map((widget) => widget.city);\n    localStorage.setItem(WIDGETS_STORAGE_NAME, JSON.stringify(cities));\n    setWidgets(widgets);\n  };\n\n  const handleUpdateWidget = useCallback(\n    (city: string, data: WeatherInfo) => {\n      const updatedWidgets = widgets.map((widget) => {\n        if (widget.city === city) {\n          return { city, data };\n        }\n        return widget;\n      });\n\n      setWidgets(updatedWidgets);\n    },\n    [widgets]\n  );\n\n  const handleAddWidget = useCallback(\n    (city: string) => {\n      syncWidgetsUpdateWithStorage([...widgets, { city, data: null }]);\n    },\n    [widgets]\n  );\n\n  const handleDeleteWidget = useCallback(\n    (id: string) => {\n      const updatedWidgets = widgets.filter(({ city }) => city !== id);\n      syncWidgetsUpdateWithStorage(updatedWidgets);\n    },\n    [widgets]\n  );\n\n  const handleWidgetsReorder = useCallback(\n    (id: string, atIndex: number) => {\n      const index = widgets.findIndex(({ city }) => city === id);\n      if (index > -1) {\n        syncWidgetsUpdateWithStorage(reorder(widgets, index, atIndex));\n      }\n    },\n    [widgets]\n  );\n\n  const [defaultWidgets, isMounted] = useDefaultWidgets();\n\n  useEffect(() => {\n    if (defaultWidgets) {\n      setWidgets(defaultWidgets);\n    }\n  }, [defaultWidgets]);\n\n  return (\n    <div className=\"weather-widget\">\n      <WeatherWidgetSettings\n        widgets={widgets}\n        onWidgetAdd={handleAddWidget}\n        onWidgetDelete={handleDeleteWidget}\n        onWidgetsReorder={handleWidgetsReorder}\n      />\n      {isMounted ? (\n        widgets.map(({ city, data }) => (\n          <WeatherWidgetItem\n            key={city}\n            city={city}\n            data={data}\n            onUpdate={handleUpdateWidget}\n          />\n        ))\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default WeatherWidget;\n","export function reorder<A>(\n  list: Array<A>,\n  startIndex: number,\n  endIndex: number\n): Array<A> {\n  const result = [...list];\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n\n  return result;\n}\n","/**\n * Vendors\n */\nimport React from \"react\";\n\n/**\n * Components\n */\nimport WeatherWidget from \"../WeatherWidget\";\n\n/**\n * Expo\n */\nconst App: React.FC<{}> = () => {\n  return (\n    <div className=\"App\">\n      <WeatherWidget />\n    </div>\n  );\n};\n\nexport default App;\n","/**\n * Vendors\n */\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n/**\n * Styles\n */\n/* eslint import/no-webpack-loader-syntax: off */\nimport css from \"!!raw-loader!!sass-loader!./assets/scss/app.scss\";\n\n/**\n * Components\n */\nimport App from \"./components/App\";\n\nclass WeatherWidget extends HTMLElement {\n  connectedCallback() {\n    const mountPoint = document.createElement(\"div\");\n    mountPoint.innerHTML = `<style>${css}</style>`;\n    const container = document.createElement(\"div\");\n    mountPoint.appendChild(container);\n    this.attachShadow({ mode: \"open\" }).appendChild(mountPoint);\n\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      container\n    );\n  }\n}\ncustomElements.define(\"weather-widget\", WeatherWidget);\n\n/**\n * Render\n */\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById(\"root\")\n// );\n","export default \".App{margin:0;font-family:'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', 'Arial', sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.App *,.App *:after,.App *:before{box-sizing:border-box}.btn{border:none;box-shadow:none;background:transparent;padding:0;cursor:pointer}.loader{display:inline-block;position:relative;width:80px;height:80px;margin:auto}.loader div{display:inline-block;position:absolute;left:8px;width:16px;background:#64b5f6;animation:loader 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite}.loader div:nth-child(1){left:8px;animation-delay:-0.24s}.loader div:nth-child(2){left:32px;animation-delay:-0.12s}.loader div:nth-child(3){left:56px;animation-delay:0}@keyframes loader{0%{top:8px;height:64px}50%,100%{top:24px;height:32px}}.weather-widget{position:relative;display:flex;flex-wrap:wrap}.weather-widget-settings{position:absolute;right:2rem;top:2rem}.weather-widget-item{max-width:300px;padding:1rem}.weather-widget-city{text-transform:capitalize;font-weight:700}.weather-widget-icon{display:flex;align-items:center}.weather-widget-temp{font-size:2rem;font-weight:bold}.weather-widget-description{margin-bottom:1rem;font-size:.75rem}.weather-widget-list{display:flex;flex-wrap:wrap}.weather-widget-list-item{flex:0 0 50%;display:flex;align-items:center;font-size:.75rem;margin-bottom:.5rem}.weather-widget-list-item svg{width:1.3rem;height:1.3rem;margin-right:.5rem}.weather-widget-list-item:nth-child(odd){padding-right:1rem}.weather-widget-error{text-align:center}.weather-widget-error-icon{font-size:3.5rem;margin-bottom:.5rem;color:red}.widget-settings-dropdown{position:absolute;top:100%;right:0;opacity:0;transform:perspective(500px) translateZ(-200px);transform-origin:center center;transition:opacity .3s ease-in-out, transform .3s ease-in-out;background:#fff;border:1px solid #dcdcdc;padding:1rem;border-radius:4px;min-width:250px;max-width:300px;box-shadow:0px 0px 10px rgba(0,0,0,0.2);z-index:-1}.widget-settings-dropdown.is-open{z-index:1;opacity:1;transform:perspective(0) translateZ(0)}.weather-widget-settings-btn{padding:.5rem;font-size:1.5rem;cursor:pointer;border-radius:4px;transition:color .3s ease-in-out, background-color .3s ease-in-out;line-height:0}.weather-widget-settings-btn:hover{background:#000;color:#fff}.widgets-settings-item{display:flex;align-items:center;padding:.5rem 1rem;background:#dcdcdc;margin-bottom:1rem}.widget-drag-trigger{margin-right:.5rem;cursor:move;font-size:1.25rem;line-height:0}.widget-settings-item-title{text-transform:capitalize}.widget-delete-btn{margin-left:auto;font-size:1.25rem;line-height:0;cursor:pointer;transition:color .3s ease-in-out}.widget-delete-btn:hover{color:red}.add-widget-form{margin-top:2rem}.form-label{font-weight:700;margin-bottom:.25rem;display:block}.form-row{display:flex;align-items:center}.form-control{height:2rem;line-height:2rem;flex-grow:1;padding:0 1rem;border-radius:4px;border:1px solid #dcdcdc}.form-error{margin-top:.5rem;font-size:.75rem;color:red}.add-widget-submit{padding:0.4rem;font-size:1.25rem;height:100%;line-height:0;transition:color .3s ease-in-out, background-color .3s ease-in-out;border-radius:4px}.add-widget-submit:hover{background:#000;color:#fff}\\n\";"],"sourceRoot":""}